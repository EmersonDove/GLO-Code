//
//  main.cpp
//  Cpp Workspace
//
//  Created by Emerson on 7/19/19.
//  Copyright Â© 2019 Emerson. All rights reserved.
//
#include <stdio.h>
#include <iostream>
#include <array>
#include "Filters.cpp"
#include <vector>

using namespace std;
int main() {
    double data []= {0.003,0.003,0.0,0.0,0.003,0.003,-0.004,0.003,0.0,0.0,0.008,0.0,0.0,0.0,-0.003,-0.003,-0.003,0.004,0.004,0.0,0.0,0.0,0.0,0.0,0.005,0.001,0.001,-0.002,-0.002,-0.002,-0.002,-0.002,-0.006,-0.01,-0.001,-0.001,-0.001,-0.009000000000000001,-0.009000000000000001,-0.005,-0.009000000000000001,-0.001,-0.005,-0.005,-0.001,-0.005,-0.005,-0.001,-0.005,-0.005,-0.005,-0.009000000000000001,-0.005,-0.005,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.005,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.009000000000000001,-0.005,-0.009000000000000001,-0.005,-0.005,-0.005,-0.005,-0.009000000000000001,-0.005,-0.005,-0.009000000000000001,-0.009000000000000001,-0.001,-0.009000000000000001,-0.009000000000000001,-0.001,-0.001,-0.001,0.002,-0.001,-0.001,0.002,-0.001,0.002,-0.001,0.002,-0.005,-0.005,0.002,-0.001,0.011000000000000001,0.006,0.015,0.006,0.015,0.015,-0.001,-0.001,0.002,0.006,0.006,0.006,0.01,0.006,0.006,0.01,0.01,0.01,0.01,0.01,0.001,0.005,0.001,0.005,0.005,0.001,0.001,0.001,0.001,0.005,0.005,0.005,0.005,0.005,0.005,0.005,0.005,0.009000000000000001,0.009000000000000001,0.005,0.009000000000000001,0.005,0.009000000000000001,0.005,0.005,0.005,0.005,0.009000000000000001,0.009000000000000001,0.009000000000000001,0.009000000000000001,0.009000000000000001,0.009000000000000001,0.005,0.005,-0.011000000000000001,0.005,0.005,-0.002,0.001,0.001,0.001,0.001,-0.006,-0.006,-0.002,-0.002,-0.002,-0.006,-0.006,-0.006,-0.013999999999999999,-0.013999999999999999,-0.006,-0.013999999999999999,-0.013999999999999999,-0.013999999999999999,-0.01,-0.013999999999999999,-0.013999999999999999,-0.006,-0.01,-0.013999999999999999,-0.013999999999999999,-0.013999999999999999,-0.013999999999999999,-0.005,-0.009000000000000001,-0.005,-0.005,-0.013000000000000001,-0.013000000000000001,-0.005,-0.005,-0.005,-0.005,-0.005,-0.005,-0.013000000000000001,-0.009000000000000001,-0.013000000000000001,-0.013000000000000001,-0.004,-0.004,-0.008,-0.004,-0.004,-0.004,-0.004,-0.004,-0.004,-0.004,-0.004,0.0,-0.004,-0.004,-0.004,-0.004,0.003,0.008,0.012,0.012,0.003,0.0,0.012,0.012,0.003,0.012,0.008,0.012,0.003,0.003,0.003,0.003,0.012,0.012,0.003,0.003,0.003,0.012,0.003,-0.004,0.003,0.008,0.0,0.006999999999999999,0.003,0.006999999999999999,0.006999999999999999,0.006999999999999999,0.003,0.006999999999999999,0.006999999999999999,0.003,0.006999999999999999,0.011000000000000001,0.011000000000000001,0.006999999999999999,0.006999999999999999,0.006999999999999999,0.002,0.002,-0.001,0.002,-0.001,-0.001,-0.001,0.002,-0.001,-0.001,-0.001,-0.001,-0.005,-0.001,-0.005,-0.005,-0.01,-0.006,-0.01,-0.006,-0.01,-0.01,-0.006,-0.006,-0.006,-0.006,-0.006,-0.006,-0.006,-0.006,-0.006,-0.002,-0.002,0.001,-0.002,-0.002,-0.002,-0.002,0.001,-0.002,-0.002,-0.006,-0.006,-0.006,-0.006,-0.006,-0.006,-0.006,-0.006,-0.006,0.001,0.001,0.001,-0.001,-0.005,0.002,0.002,-0.001,0.002,0.002,0.002,0.002,-0.005,-0.001,-0.005,-0.001,-0.005,-0.005,-0.005,0.002,0.003,0.003,0.003,0.002,0.003,0.003,0.0,0.006999999999999999,0.006999999999999999,0.0,0.0,0.0,0.0,0.0,0.0,-0.004,0.008,0.008,0.008,0.003,0.012,0.003,0.008,0.004,0.008,0.004,0.004,0.004,0.004,0.004,0.004,-0.003,0.0,-0.003,-0.003,-0.003,-0.003,-0.003,0.004,-0.003,0.004,-0.003,0.004,-0.003,-0.003,0.0,-0.003,-0.002,0.0,0.004,0.004,0.0,-0.002,0.0,0.0,0.0,0.005,0.005,0.0,0.009000000000000001,0.005,0.005,0.005,0.005,-0.006,-0.006,-0.002,-0.002,0.001,0.001,-0.002,0.001,-0.002,-0.006,-0.002,-0.002,-0.002,-0.002,-0.002,-0.002,-0.01,-0.01,-0.006,-0.002,-0.002,-0.01,-0.01,-0.002,-0.01,-0.002,-0.002,-0.002,-0.002,-0.002,0.001,-0.002,-0.002,0.005,-0.002,0.001,-0.002,-0.002,-0.002,-0.002,-0.006,0.001,-0.006,-0.006,-0.006,-0.006,0.006,-0.006,-0.006,0.006,0.006,0.002,0.006,0.002,0.002,0.002,0.002,0.002,0.002,-0.005,0.002,0.002,0.002,-0.005,-0.005,-0.005,-0.005,-0.005,-0.001,0.002,0.002,-0.001,0.006,0.006,-0.001,-0.001,-0.001,-0.001,-0.001,0.006999999999999999,-0.001,0.0,0.003,0.0,0.003,0.003,0.003,0.003,0.003,-0.004,0.0,0.003,0.003,0.003,0.003,0.003,0.0,0.003,-0.004,-0.004,-0.004,-0.004,0.0,0.0,-0.004,0.003,-0.004,0.0,0.003,0.0,0.003,0.003,0.0,0.0,0.0,0.003,0.003,-0.004,0.011000000000000001,0.011000000000000001,-0.004,0.004,0.011000000000000001,0.003,0.004,0.006999999999999999,-0.004,-0.004,-0.004,0.004,0.004,0.004,0.004,0.004,-0.003,0.004,0.004,-0.003,-0.003,0.0,0.0,-0.003,0.0,0.0,0.0,0.0,0.0,-0.008,0.0,0.0,0.0,-0.003,0.0,-0.003,-0.012,-0.008,-0.003,-0.008,-0.008,-0.008,-0.008,-0.008,-0.008,0.0,-0.004,-0.004,-0.004,-0.004,-0.004,0.0,0.003,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.006999999999999999,0.0,0.006999999999999999,0.003,0.0,0.0,-0.001,0.0,-0.001,-0.001,-0.001,-0.001,-0.001,-0.001,-0.001,-0.001,-0.005,-0.001,0.002,0.002,0.002,-0.005,0.002,0.002,-0.005,0.001,0.006,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.005,0.001,0.005,0.005,0.005,0.005,0.0,0.0,0.0,0.0,-0.002,0.0,0.004,0.0,0.0,-0.003,-0.003,0.0,-0.003,-0.003,-0.003,-0.003,0.0,-0.004,-0.004,-0.004,0.0,-0.004,-0.004,0.0,-0.004,-0.004,0.003,-0.004,0.003,-0.004,-0.001,0.002,0.002,0.002,0.002,-0.001,0.002,0.002,0.006,0.001,0.006,0.001,-0.001,-0.002,-0.006,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.0,0.0,0.0,0.0,0.0,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.0,0.008,0.0,0.0,0.0,-0.003,0.0,-0.003,0.0,0.0,0.0,0.003,0.0,0.003,0.003,0.003,0.003,0.003,0.003,0.003,0.008,0.0,0.003,0.003,-0.004,-0.004,-0.004,0.0,0.003,-0.004,0.0,0.004,0.004,0.004,0.004,0.004,0.004,0.008,0.0,0.004,0.0,-0.003,-0.003,0.0,0.004,0.004,0.004,-0.002,-0.002,0.0,0.004,0.0,0.0,-0.002,0.001,-0.002,0.005,-0.006999999999999999,-0.003,0.001,0.005,-0.002,-0.011000000000000001,-0.002,-0.002,-0.002,-0.002,-0.002,-0.002,0.006,0.005,-0.002,-0.002,-0.002,-0.002,-0.002,-0.01,-0.006,-0.006,-0.006,-0.001,0.001,-0.006,-0.002,-0.006,0.001,0.001,-0.006,0.001,-0.006,0.001,0.001,0.001,-0.006,0.001,0.001,-0.006,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,-0.002,-0.002,-0.002,0.001,0.005,0.005,0.001,0.001,0.001,0.001,0.001,0.009000000000000001,0.001,0.005,0.005,0.005,0.001,0.005,0.001,0.001,0.009000000000000001,0.009000000000000001,0.001,0.001,0.001,-0.006,0.001,-0.006,0.001,0.001,-0.002,0.001,-0.01,-0.002,0.006,0.006,0.006,0.006,0.006,0.006,0.006,0.002,-0.001,-0.001,-0.001,0.002,-0.001,-0.001,-0.005,-0.001,0.002,-0.001,-0.001,-0.004,-0.004,-0.001,-0.004,-0.004,-0.001,-0.004,-0.008,-0.008,-0.008,-0.004,-0.004,0.0,0.0,0.0,-0.004,0.0,-0.004,0.0,-0.004,0.0,-0.004,-0.004,-0.004,-0.008,-0.008,0.0,-0.008,-0.008,-0.008,0.0,-0.003,-0.003,0.003,0.0,0.0,-0.003,0.0,0.0,0.003,0.0,-0.003,-0.003,0.004,0.004,0.004,0.008,0.008,0.008,-0.008,0.008,0.008,0.008,0.008,0.008,0.0,0.0,0.0,-0.008,0.0,0.0,0.004,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,0.0,0.004,0.004,0.004,0.004,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-0.006999999999999999,-0.003,-0.003,-0.003,0.004,0.004,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,-0.003,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.004,0.0,0.0,-0.006999999999999999,0.005,0.009000000000000001,-0.006999999999999999,0.005,0.005,0.005,0.009000000000000001,0.009000000000000001,0.009000000000000001,0.005,-0.006999999999999999,-0.006999999999999999,0.0,-0.002,-0.006,-0.002,-0.002,-0.002};
    //Set filter b to have a rolling length of 10 (buffer size) and a scale factor of 7.8125
    ButterWorthLowPass b(10);
    circular_buffer<double> c(10);

    //Fill buffer to start
    for (int i = 0; i<c.size(); i++) {
        c.put(data[i]);
    }

    vector<double> out;

    //Create a vector of outputs
    for (int i = 9; i<1000; i++) {
        out.push_back(b.Execute(c));
        c.put(data[i]);
    }

    //Print output
    for (int i = 0; i<out.size(); i++) {
        std::cout << out.at(i) << ",";
    }
    return 1;
}
